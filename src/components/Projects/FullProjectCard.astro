---
import { Icon } from "astro-icon/components";
import type { Project } from "./projects";
import { Image } from "astro:assets";

interface Props extends Project {}
const { title, tags, image, status, link, github, features, longDescription, date } = Astro.props;
---

<article class="p-5 rounded-md bg-black/60 grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="flex flex-col gap-y-2 h-full justify-between md:col-span-2 order-2 md:order-1">
    <div>
      <div class="flex items-center gap-x-4">
        <h2 class="text-xl font-semibold">{title}</h2>
        <a href={github}><Icon name="Github" size={20} class="text-white"/></a>
      </div>
      <p class="mb-4 text-xs">{date}</p>
      <p class="text-balance">
        {longDescription}
      </p>
      {
        features && (
        <p class="mt-2 font-semibold text-lg">Características:</p>
        <ul class="list-disc ml-4 text-balance">
          {features.map((feature) => <li class="text-balance">{feature}.</li>)}
        </ul>
        )
      }
    </div>
    <div>
      <div class="flex gap-2 flex-row my-2 flex-wrap">
        {
          tags.map((tag) => (
            <span
              class={`flex gap-x-2 rounded-full text-xs text-white ${tag.class} py-1 px-2`}
            >
              <Icon name={tag.icon} class={`size-4 ${tag.iconClass}`} />
              {tag.name}
            </span>
          ))
        }
      </div>
    </div>
  </div>
  <div class="md:col-span-1 flex flex-col my-auto order-1 md:order-2">
    <Image
      alt={title}
      src={image}
      format="webp"
      width={350}
      height={350}
      class="rounded-md object-cover w-full"
    />
    {
      status === "live" && (
        <a
          target="_blank"
          href={link}
          class="flex flex-1 text-white hover:underline bg-green-500/70 p-2 text-sm mt-2 justify-center w-full"
        >
          En producción
        </a>
      )
    }
    {
      status === "finished" && (
        <a
          target="_blank"
          href={github}
          class="flex flex-1 text-white hover:underline bg-slate-500/70 p-2 text-sm mt-2 justify-center w-full"
        >
          Terminado
        </a>
      )
    }
    {
      status === "soon" && (
        <a
          target="_blank"
          href={github}
          class="flex flex-1 text-white hover:underline bg-blue-500/70 p-2 text-sm mt-2 justify-center w-full"
        >
          Desarrollo en progreso
        </a>
      )
    }
  </div>
</article>
